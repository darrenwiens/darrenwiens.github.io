<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#">
	<head>
		<link href="http://gmpg.org/xfn/11" rel="profile">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta http-equiv="content-type" content="text/html; charset=utf-8">

		<!-- Metadata -->
	<meta name="description" content="">
	<meta property="og:description" content="">
	<meta property="og:title" content="AWS Slack Slash Command CDK Template" />
	<meta property="og:type" content="article" />
	<meta property="og:url" content="https://darrenwiens.github.io/aws-slack-slash-command-cdk-template.html" />
		<meta property="og:image" content="https://darrenwiens.github.io/images/face.png" />

		<!-- Enable responsiveness on mobile devices-->
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

		<title>Darren Wiens</title>

		<!-- CSS -->
		<link href="//fonts.googleapis.com/" rel="dns-prefetch">
		<link href="//fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic|Abril+Fatface|PT+Sans:400,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet">

		<link rel="stylesheet" href="https://darrenwiens.github.io/theme/css/poole.css" />
		<link rel="stylesheet" href="https://darrenwiens.github.io/theme/css/hyde.css" />
		<link rel="stylesheet" href="https://darrenwiens.github.io/theme/css/syntax.css" />
			<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.1.7/css/fork-awesome.min.css" crossorigin="anonymous">

		<!-- Feeds -->

		<!-- Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-207412040-1', 'auto');
ga('send', 'pageview');
</script>
	</head>

	<body class="theme-base-08">
<div class="sidebar">
	<div class="container sidebar-sticky">
		<div class="sidebar-about">

			<h1>
				<a href="/">
					<img class="profile-picture" src="https://darrenwiens.github.io/images/face.png">
					Darren Wiens
				</a>
			</h1>
			<p class="lead"></p>
			<p class="lead"> </p>
			<p></p>
		</div>
			<ul class="sidebar-nav">
			</ul>
		<nav class="sidebar-social">
					<a class="sidebar-social-item" href="http://twitter.com/dkwiens" target="_blank">
						<i class="fa fa-twitter"></i>
					</a>
					<a class="sidebar-social-item" href="http://github.com/darrenwiens" target="_blank">
						<i class="fa fa-github"></i>
					</a>
			<a class="sidebar-social-item" href="https://darrenwiens.github.io/">
				<i class="fa fa-rss"></i>
			</a>
		</nav>
	</div>
</div>		<div class="content container">
<div class="post">
	<h1 class="post-title">AWS Slack Slash Command CDK Template</h1>
	<span class="post-date">Fri 11 September 2020</span>
	<p>On the face of it, making a <a href="https://slack.com/">Slack</a> slash command sounds relatively straight forward:</p>
<ul>
<li>set up a slash command through the Slack UI that points to an endpoint</li>
<li>when the slash command is executed, Slack sends a POST request to the endpoint</li>
<li>the code within the endpoint then hopefully does something, and possibly returns a result of some kind to Slack</li>
</ul>
<p>In practice, there are many subtleties inherent in making a functional Slack slash command app, which (hopefully) you will find managed by <a href="https://github.com/darrenwiens/slack-app-template">this AWS CDK template</a>.</p>
<p>This template does a few things for you:</p>
<ul>
<li>creates an API Gateway, set up for cross-domain POST requests</li>
<li>creates a <code>main</code> lambda function, which invokes the <code>worker</code> lambda function, but also always immediately returns a successful 200 response to Slack</li>
<li>creates a <code>worker</code> lambda function, which executes the business logic of the slash command. When the slash command is first invoked, this lambda displays a modal window. When the modal is submitted, this lambda is invoked again to create and return an ephemeral Slack message to the channel, containing the text contents of the modal window.</li>
</ul>
<p>Hopefully you find this CDK template useful. I'll be interested to hear if you make use of it!</p>
</div>
		</div>
	</body>
</html>