<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#">
	<head>
		<link href="http://gmpg.org/xfn/11" rel="profile">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta http-equiv="content-type" content="text/html; charset=utf-8">

		<!-- Metadata -->
	<meta name="description" content="">
	<meta property="og:description" content="">
	<meta property="og:title" content="STAC in Blender" />
	<meta property="og:type" content="article" />
	<meta property="og:url" content="https://darrenwiens.github.io/stac-in-blender.html" />
		<meta property="og:image" content="https://darrenwiens.github.io/images/face.png" />

		<!-- Enable responsiveness on mobile devices-->
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

		<title>Darren Wiens</title>

		<!-- CSS -->
		<link href="//fonts.googleapis.com/" rel="dns-prefetch">
		<link href="//fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic|Abril+Fatface|PT+Sans:400,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet">

		<link rel="stylesheet" href="https://darrenwiens.github.io/theme/css/poole.css" />
		<link rel="stylesheet" href="https://darrenwiens.github.io/theme/css/hyde.css" />
		<link rel="stylesheet" href="https://darrenwiens.github.io/theme/css/syntax.css" />
			<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.1.7/css/fork-awesome.min.css" crossorigin="anonymous">

		<!-- Feeds -->

		<!-- Analytics -->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-207412040-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-207412040-1');
</script>
	</head>

	<body class="theme-base-08">
<div class="sidebar">
	<div class="container sidebar-sticky">
		<div class="sidebar-about">

			<h1>
				<a href="/">
					<img class="profile-picture" src="https://darrenwiens.github.io/images/face.png">
					Darren Wiens
				</a>
			</h1>
			<p class="lead"></p>
			<p class="lead"> </p>
			<p></p>
		</div>
			<ul class="sidebar-nav">
			</ul>
		<nav class="sidebar-social">
					<a class="sidebar-social-item" href="http://twitter.com/dkwiens" target="_blank">
						<i class="fa fa-twitter"></i>
					</a>
					<a class="sidebar-social-item" href="http://github.com/darrenwiens" target="_blank">
						<i class="fa fa-github"></i>
					</a>
			<a class="sidebar-social-item" href="https://darrenwiens.github.io/None">
				<i class="fa fa-rss"></i>
			</a>
		</nav>
	</div>
</div>		<div class="content container">
<div class="post">
	<h1 class="post-title">STAC in Blender</h1>
	<span class="post-date">Wed 19 January 2022</span>
	<p>Have you ever wondered how to use <a href="https://stacspec.org/">Spatiotemporal Asset Catalog</a> (STAC) assets in <a href="https://www.blender.org/">Blender</a>? Me too, and here's how I used Python in Blender to make an animation like this:</p>
<p><img alt="STAC in Blender" src="https://darrenwiens.github.io/images/blender_stac_plane.gif"></p>
<p>You can find my Python code <a href="https://gist.github.com/darrenwiens/f86c8979a5a00df44c0a0cc5a3a3abbc">here</a>. If you have a plane object in your scene, "Plane", the script should do quite a few things:</p>
<ul>
<li>make a query to <a href="https://www.element84.com/">Element84</a>'s <a href="https://www.element84.com/earth-search/">Earth Search API</a>, but you could use whatever STAC API your heart desires. The query will retrieve 15 Sentinel-2 cloud-optimized geotiffs (<a href="https://www.cogeo.org/">COG</a>) within a bounding box</li>
<li>for each image, read the pixels from a window defined by the bounding box, and save them as a local jpeg</li>
<li>it also creates a very special material, containing 15 (maybe 14...) mix shaders, each one pointing to all the previous mix shaders and an image. Each mix shader is also keyframed to transition between fully showing the previous images, or itself. The result is a material that appears to smoothly change from one image to the next in sync with its datetime value.</li>
<li>the material is applied to the "Plane" object - I manually added a plane to the scene, but you could accomplish this through code, as well.</li>
<li>finally, I set up a handler to animate the text.</li>
</ul>
<p>That's it! It's a lot to digest, but have a look at the code and see if you can make sense of it. Let me know on <a href="https://twitter.com/dkwiens">Twitter</a> how it goes!</p>
<p>PS: you can also swap out the "Plane" for other objects, like a cube below:</p>
<p><img alt="STAC in Blender" src="https://darrenwiens.github.io/images/blender_stac_cube.gif"></p>

		<span class="post-tags">
			Tags:
			<ul>
					<li><a href="https://darrenwiens.github.io/tag/blender.html">blender</a></li>
					<li><a href="https://darrenwiens.github.io/tag/python.html">python</a></li>
					<li><a href="https://darrenwiens.github.io/tag/stac.html">stac</a></li>
			</ul>
		</span>

</div>
		</div>
	</body>
</html>